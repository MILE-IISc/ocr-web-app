<script src="https://cdn.rawgit.com/seikichi/tiff.js/master/tiff.min.js"></script>

<div>
  &nbsp;&nbsp;&nbsp;&nbsp;
  <input #fileUpload type="file" (click)="fileUpload.value = null" (change)="importFile($event)" style="display:none"
    accept="image/*">
  <button data-toggle="tooltip" (click)="fileUpload.click()" title="open image"><img src="assets/images/open_file.jpg"
      type="button" width="20px" height="20px"></button>
  <input #folderUpload type="file" name="fileList" (click)="folderUpload.value = null" webkitdirectory multiple
    (change)="importFile($event)" style="display:none" />
  <button data-toggle="tooltip" title="open directory" (click)="folderUpload.click()"><img
      src="assets/images/open_folder.png" type="button" width="20px" height="20px"></button>
  <button data-toggle="tooltip" title="open Image-Text Layout:Left-Right" (click)="asVertical()"
    [disabled]="nextImage"><img src="assets/images/vertical.jpg" type="button" width="20px" height="20px"></button>
  <button data-toggle="tooltip" title="open Image-Text Layout:Top-Bottom" (click)="asHorizontal()"
    [disabled]="nextImage"><img src="assets/images/horizontal.jpg" type="button" width="20px" height="20px"></button>
  <button data-toggle="tooltip" title="Select Block" (click)="selectBlock()"><img src="assets/images/selectBlock.png"
      type="button" width="20px" height="20px"></button>
  <button (click)="onSave()">SavetoXML</button>
</div>

<div class="container" style="width: 100%; height:750px;background-color: whitesmoke;">
  <as-split [direction]=value>
    <as-split-area id="content" [lockSize]=true style="overflow-x: auto; overflow-y: auto;"
      (scroll)="updateScroll(scrollOne, scrollTwo)" #scrollOne>
      <img [src]="localUrl" *ngIf="localUrl && !isLoading" id="imgToRead" class="imgToRead" />
      <!-- <div class="topleft" *ngIf="localUrl && ImageIs">{{ fileName }}</div> -->
      <!-- <div  *ngIf="!ImageIs" ><h4> This is not an Image File!!! </h4></div> -->
      <div class="topleft" *ngIf="!isLoading">{{ fileName }}</div>
      <mat-spinner *ngIf="isLoading"></mat-spinner>
    </as-split-area>
    <as-split-area style="overflow-x: auto; overflow-y: auto;" (scroll)="updatescroll(scrollOne, scrollTwo)" #scrollTwo>
      <div id="image" [style.position]="'relative'">
        <span *ngFor="let text of words">
          <input id="text_input" [value]="text.unicode" [style.width.px]="text.txtwidth*(this.percentage/100)"
            [style.position]="'absolute'" [style.border]="'none'" [style.font-size.px]="30*(this.percentage/100)"
            [style.top.px]="text.lineRowStart*(this.percentage/100)"
            [style.left.px]="text.lineColStart*(this.percentage/100)"
            [style.margin-inline-start.px]="text.lineRowStart*(this.percentage/100)"
            [style.height.px]="text.txtheight*(this.percentage/100)">
        </span>
      </div>
    </as-split-area>
  </as-split>
</div>

<div class="modal" id="HI" tabindex="-1" role="dialog" [ngStyle]="{'display':display}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Please select the page that you want to be displayed:</h4>
      </div>
      <div>
        <div class="modal-body" style="width: 90%;" (click)="openThisImage($event)"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="closeModalDialog()">Close</button>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>